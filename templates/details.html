<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MiSTer Dashboard</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.css" rel="stylesheet">
</head>
<body>
    <div class="container-fluid">
    <h4 class="display-4" ><a id=name href="url"></a></h4>
    <h6 class="display-6" id=developer></h6>
    <h6 class="display-6" id=publisher></h6>
    <h6 class="display-6" id=genre></h6>
    <h6 class="display-6" id=release_date></h6>
    <h6 class="display-6" id=region></h6>
    <p class="display-5" id=description></p>
    <div class="text-center">
    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img class="img-fluid" id="boxart" class="d-block w-100" src="" alt="First slide">
          </div>
          <div class="carousel-item">
            <img class="img-fluid" id="snap" class="d-block w-100" src="" alt="Second slide">
          </div>
          <div class="carousel-item">
            <img class="img-fluid" id="title" class="d-block w-100" src="" alt="third slide">
          </div>
          <div class="carousel-item">
            <img class="img-fluid" id="system" class="d-block w-100" src="" alt="fourth slide">
          </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
      <div>
    </div>
    
<!--suppress JSUnresolvedLibraryURL -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
<!--suppress JSUnresolvedLibraryURL -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
<!--suppress JSUnresolvedLibraryURL -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"></script>
<script>
    $(document).ready(function () {


        const source = new EventSource("/details");

        source.onmessage = function (event) {
            const details = JSON.parse(event.data);
            //document.getElementById("rom_id").innerHTML = details.rom_id;
            //document.getElementById("system_id").innerHTML = details.system_id;
            document.getElementById("name").innerHTML = details.release_name;
            document.getElementById("name").href = details.reference_url;
            document.getElementById("region").innerHTML = details.region;
            document.getElementById("boxart").src = details.boxart_image;
            document.getElementById("snap").src = details.snap_image;
            document.getElementById("title").src = details.title_image;
            document.getElementById("system").src = details.system_image;
            document.getElementById("developer").innerHTML = details.developer;
            document.getElementById("description").innerHTML = details.description;
            document.getElementById("publisher").innerHTML = details.publisher;
            document.getElementById("genre").innerHTML = details.genre;
            document.getElementById("release_date").innerHTML = details.date;
        }
    });
</script>
</body>
</html>